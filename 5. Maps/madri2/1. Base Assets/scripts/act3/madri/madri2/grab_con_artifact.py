# Generated by BehavEd
# ( "comment" )
setCurrentAct(3 )
setGameFlag("artifacts", 3, 1 )
remove ( "artifact_con", "artifact_con" )
remove ( "con_flame01", "con_flame01" )
objective ( "act3_obj_6a_a",  "EOBJCMD_COMPLETE" )
objective ( "act3_obj_6a_a",  "EOBJCMD_HIDE" )
objective ( "act3_obj_6a",  "EOBJCMD_SHOW" )
copyOriginAndAngles("fire_fx2", "f2spot01" )
setEnable("zone_link03", "TRUE" )
# ( "checks if this is the first artifact gotten" )
# ( "if it's the first, plays conversation" )
# ( "do nothing if not" )
first_artifact = getGameFlag("madri_conv", 4 )
if first_artifact == 0
     setallaiactive("FALSE" )
     lockControls(-1.000 )
     cameraFocusToEntity("portal_spawn", 256.000, 45.000, 135.000, 3.000 )
     waittimed ( 3.000 )
     act("portal_spawn", "portal_spawn" )
     waittimed ( 0.750 )
     act("portal_looper", "portal_looper" )
     remove ( "portal_spawn", "portal_spawn" )
     startConversation("act3/madri/madri2/3_sometimemadri_0040" )
     setGameFlag("madri_conv", 4, 1 )
else
     act("portal_spawn", "portal_spawn" )
     waittimed ( 0.750 )
     act("portal_looper", "portal_looper" )
     remove ( "portal_spawn", "portal_spawn" )
endif

