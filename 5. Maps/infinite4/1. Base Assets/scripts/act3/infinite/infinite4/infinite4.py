# Generated by BehavEd
# ( "comment" )
visited = getGameFlag("act3_visit", 8 )
if visited == 0
     # ( "add conversation and hudson animation here" )
     startConversation("act3/infinite/infinite4/3_infinite4_0010" )
     objective ( "act3_obj_3d",  "EOBJCMD_SHOW" )
     objective ( "act3_obj_3d_a",  "EOBJCMD_SHOW" )
endif
# ( "if belt cleared" )
belt_complete = getGameFlag("protocols", 12 )
if belt_complete == 1
     remove ( "door_counter", "door_counter" )
     remove ( "belt_door", "belt_door" )
     remove ( "no_go_belt", "no_go_belt" )
     remove ( "firejet_01", "firejet_01" )
     remove ( "firejet_02", "firejet_02" )
     remove ( "firejet_nav_blocker", "firejet_nav_blocker" )
     swapInStump("fire_control" )
     remove ( "zapper_01", "zapper_01" )
     remove ( "zapper_02", "zapper_02" )
     remove ( "zapper_nav_blocker", "zapper_nav_blocker" )
     swapInStump("zap_control" )
     remove ( "freezejet_01", "freezejet_01" )
     remove ( "freezejet_02", "freezejet_02" )
     remove ( "freezejet_nav_blocker", "freezejet_nav_blocker" )
     remove ( "freezejet_nav_blocker01", "freezejet_nav_blocker01" )
     swapInStump("freeze_control2" )
     swapInStump("freeze_control" )
else
     # ( "check b-b-b-benny and the jets" )
     jets = getGameFlag("inf4_traps", 1 )
     if jets == 1
          remove ( "zapper_02", "zapper_02" )
          remove ( "zapper_nav_blocker", "zapper_nav_blocker" )
          swapInStump("zap_control" )
     endif
     jets = getGameFlag("inf4_traps", 2 )
     if jets == 1
          swapInStump("freeze_control" )
          remove ( "freezejet_nav_blocker", "freezejet_nav_blocker" )
          remove ( "freezejet_01", "freezejet_01" )
     endif
     jets = getGameFlag("inf4_traps", 3 )
     if jets == 1
          swapInStump("freeze_control2" )
          remove ( "freezejet_nav_blocker01", "freezejet_nav_blocker01" )
          remove ( "freezejet_02", "freezejet_02" )
     endif
     jets = getGameFlag("inf4_traps", 4 )
     if jets == 1
          remove ( "zapper_01", "zapper_01" )
          remove ( "firejet_01", "firejet_01" )
          remove ( "firejet_02", "firejet_02" )
          remove ( "firejet_nav_blocker", "firejet_nav_blocker" )
          swapInStump("fire_control" )
     endif
endif
# ( "if cryo_room cleared" )
cryo_complete = getGameFlag("protocols", 13 )
if cryo_complete == 1
     waittimed ( 0.500 )
     remove ( "door_counter", "door_counter" )
     remove ( "no_go_cryo", "no_go_cryo" )
     remove ( "cryo_door2", "cryo_door2" )
     remove ( "cryo_door3", "cryo_door3" )
     remove ( "cryo_door4", "cryo_door4" )
     remove ( "locked_door2", "locked_door2" )
     remove ( "locked_door3", "locked_door3" )
     remove ( "locked_door4", "locked_door4" )
     remove ( "trigger_touch01", "trigger_touch01" )
     act("cryo_doors01", "cryo_doors01" )
     act("cryo_doors02", "cryo_doors02" )
     act("cryo_doors03", "cryo_doors03" )
     act("cryo_doors04", "cryo_doors04" )
     act("cryo_doors05", "cryo_doors05" )
     act("cryo_doors06", "cryo_doors06" )
     remove ( "aa2", "aa2" )
     remove ( "aa6", "aa6" )
     remove ( "aa1", "aa1" )
     remove ( "aa1a", "aa1a" )
     remove ( "aa1b", "aa1b" )
     remove ( "aa1c", "aa1c" )
     remove ( "aa3", "aa3" )
     remove ( "aa4", "aa4" )
     remove ( "aa2a", "aa2a" )
     remove ( "aa2b", "aa2b" )
     remove ( "aa2c", "aa2c" )
     remove ( "aa5", "aa5" )
     swapInStump("cryo_control" )
else
     # ( "has cryo_control been destroyed?" )
     cryo = getGameFlag("protocols", 17 )
     if cryo == 1
          # ( "cryo_control has been destroyed--prepare cryo ambush" )
          swapInStump("cryo_control" )
          act("enable_ambush_trigger", "enable_ambush_trigger" )
          remove ( "no_go_cryo", "no_go_cryo" )
          remove ( "oe_trig1", "oe_trig1" )
          remove ( "oe_trig2", "oe_trig2" )
          act("bait_spawn1", "bait_spawn1" )
          act("bait_spawn2", "bait_spawn2" )
          waittimed ( 0.500 )
          copyOriginAndAngles("bait1", "wp_bait1_spot01" )
          copyOriginAndAngles("bait2", "wp_bait2_spot01" )
          setEnable("cryo_door2", "TRUE" )
          actSilent("cryo_door2", "cryo_door2" )
          setEnable("cryo_door3", "TRUE" )
     endif
endif
setGameFlag("act3_visit", 8, 1 )

