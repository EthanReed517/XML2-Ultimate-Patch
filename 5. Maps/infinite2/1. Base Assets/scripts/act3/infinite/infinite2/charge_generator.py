# Generated by BehavEd
# ( "Bishop short-circuits infinite2 puzzles by charging generator." )
# ( "It's possible that the player may have used the 3a_a console and then" )
# ( "charged the generator with Bishop, running this script. In this case," )
# ( "we need to make sure we don't act a second time on the machines and sparks." )
override = getObjective("act3_obj_3a_a", "COMPLETE" )
if override == 0
     # ( "machines animate faster, activate fx, activate spark_trap" )
     setAnimSpeed("machine", 8.000 )
     # ( "prepare safety override" )
     remove ( "gen_powerup_trigger", "gen_powerup_trigger" )
     remove ( "relay_generator", "relay_generator" )
     # ( "update objectives" )
     objective ( "act3_obj_3a_a",  "EOBJCMD_COMPLETE" )
endif
# ( "====================" )
# ( "this has changed now that powering up the generator destroys the machine - Oz 2/28/05" )
# ( "====================" )
# ( "remove trigger from console normally used to complete 3a_a." )
remove ( "gen_powerup_trigger", "gen_powerup_trigger" )
# ( "powering up the generator now destroys the machines" )
remove ( "pre_overload", "pre_overload" )
# ( "fade out, lock controls, set camera" )
lockControls(-1.000 )
setallaiactive("FALSE" )
# ( "signal machine destruction complete" )
setGameFlag("protocols", 5, 1 )
# ( "machines animate faster" )
setAnimSpeed("machine", 8.000 )
cameraFocusToEntity("focus_machine", 512.000, 45.000, 225.000, 2.000 )
waittimed ( 2.500 )
# ( "destroy machines, remove fx, remove spark_trap" )
killEntity("machine" )
act("fx_explosion", "fx_explosion" )
sound (  "PLAY_SOUND", "zone_shared/fx/explosion", "", "" )
remove ( "spark_trap", "spark_trap" )
# ( "make generator inactive" )
setEnable("generator", "FALSE" )
remove ( "relay_generator", "relay_generator" )
# ( "start conversation" )
waittimed ( 1.000 )
startConversation("act3/infinite/infinite2/3_infinite2_0030" )
objective ( "act3_obj_3a_b",  "EOBJCMD_SHOW" )
# ( "when you charge the generator with Bishop, you simultaneously" )
# ( "complete objectives 3a_a and 3a_b." )
objective ( "act3_obj_3a_b",  "EOBJCMD_COMPLETE" )

